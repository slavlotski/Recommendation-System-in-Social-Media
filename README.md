# Рекомендательная система постов в социальной сети.
Поставленная задача: необходимо реализовать сервис, который будет для каждого пользователя в любой момент времени возвращать посты, 
которые покажут в его ленте соцсети.\
Вводные сведения по сервису:
- Алгоритм должен работать не более ~0.5 секунд на 1 запрос и занимал не более ~ 2 ГБ памяти
- Набор пользователей фиксирован и никаких новых появляться не будут 
- Модель не обучается заново при использовании сервиса
### Описание данных
#### Таблица user_data
Содержит информацию всех пользователей социальной сети.\
Кол-во записей в таблице: `163205`\
`user_id` - Уникальный идентификатор пользователя\
`age` - Возраст пользователя (в профиле)\
`city` - Город пользователя (в профиле)\
`country` - Страна пользователя (в профиле)\
`exp_group` - Экспериментальная группа: некоторая зашифрованная категория\
`gender` - Пол пользователя\
`os` - Операционная система устройства, с которого происходит пользование соц.сетью\
`source` - Пришел ли пользователь в приложение с органического трафика или с рекламы\
#### Таблица post_text_df
Кол-во записей в таблице: `7023`\
Содержит информацию о постах и уникальный ID каждой единицы с соответствующим ей текстом и топиком.\
`post_id` - Уникальный идентификатор поста \
`text` - Текстовое содержание поста\
`topic` - Основная тематика
#### Таблица feed_data
Содержит историю о просмотренных постах для каждого юзера в изучаемый период.\
Кол-во записей в таблице: `~66 млн.`\
`user_id` - id пользователя, который совершил просмотр или взаимодействие с постом
`post_id` - 	id просмотренного поста\
`action` - 	Тип действия: просмотр или лайк\
`target` - 1 у просмотров, если почти сразу после просмотра был совершен лайк, иначе 0. У действий like пропущенное значение.
### Оценка качества
Качество алгоритма необходимо проверять по метрике `hitrate@5`. Нижний порог метрики является значение `0.4` 
### Навигация по файлам проекта
`Analyzing data and creation ML model.ipynb` - EDA анализ, предобработка данных, обучение, предикт и сохранение модели\
`app.py` - Основной файл по сервису, где и происходит рекомендация постов конкретному пользователю на выходе\
`catboost_model` - сохраненная модель Catboost'а, результат работы notebook'а `Analyzing data and creation ML model`\
`database.py` - настройка подключения и создания сессии к БД\
`schema.py` - создание классов pydantic для валидации выходных данных\
`table_feed.py` - создание объекта SQLALCHEMY используя таблицу `feed_data` из БД\
`table_post.py` - создание объекта SQLALCHEMY используя таблицу `post_text_df` из БД\
`table_user.py` - создание объекта SQLALCHEMY используя таблицу `user_data` из БД
